<?xml version="1.0" encoding="UTF-8"?>
<beans default-lazy-init="true"
    xmlns="http://www.springframework.org/schema/beans"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:aop="http://www.springframework.org/schema/aop"
    xmlns:tx="http://www.springframework.org/schema/tx"
    xsi:schemaLocation="
    http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.5.xsd
    http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-2.5.xsd
    http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-2.5.xsd">
    
    <tx:annotation-driven transaction-manager="org.sakaiproject.springframework.orm.hibernate.GlobalTransactionManager" />

   <bean id="matrixValidator" class="org.theospi.portfolio.matrix.control.MatrixValidator">
   	<property name="authManager"><ref bean="authManager"/></property>
   </bean>

   <bean id="MatrixResetController"  class="org.sakaiproject.metaobj.utils.mvc.impl.servlet.ViewControllerImpl">
      <property name="controller">
		<bean class="org.theospi.portfolio.matrix.control.MatrixResetController">
        		<property name="matrixManager"><ref bean="matrixManager"/></property>
            <property name="idManager"><ref bean="idManager"/></property>
        </bean>
      </property>
      <property name="screenMappings">
         <props>
            <prop key="success">matrixRedirect</prop>
         </props>
      </property>
      <property name="customTypedEditors">
         <list>
            <ref bean="idCustomEditor"/>
         </list>
      </property>
      <property name="commandName"><value>command</value></property>
      <property name="commandClass"><value>org.theospi.portfolio.matrix.control.MatrixFormBean</value></property>
   </bean>
   
   <bean id="listScaffoldingController" class="org.sakaiproject.metaobj.utils.mvc.impl.servlet.ViewControllerImpl">
      <property name="controller">
         <bean class="org.theospi.portfolio.matrix.control.ListScaffoldingController">
            <property name="matrixManager"><ref bean="matrixManager"/></property>
            <property name="authManager"><ref bean="authManager"/></property>
            <property name="idManager"><ref bean="idManager"/></property>
            <property name="authzManager"><ref bean="authzManager"/></property>
            <property name="agentManager"><ref bean="agentManager" /></property>
            <property name="worksiteManager">
               <ref bean="org.sakaiproject.metaobj.worksite.mgt.WorksiteManager"/>
            </property>
            <property name="listScrollIndexer">
               <ref bean="org.sakaiproject.metaobj.utils.mvc.intf.ListScrollIndexer"/>
            </property>
            <property name="siteService">
               <ref bean="org.sakaiproject.site.api.SiteService" />
            </property>
            <property name="matrixPreferencesConfig">
               <ref bean="org.sakaiproject.user.api.UserNotificationPreferencesRegistration.matrix" />
            </property>
         </bean>
      </property>
      <property name="customTypedEditors">
         <list>
            <ref bean="mimeTypeCustomEditor"/>
         </list>
      </property>
      <property name="screenMappings">
         <props>
            <prop key="success">listScaffolding</prop>
            <prop key="viewMatrix">viewMatrix</prop>
         </props>
      </property>      
      <property name="commandName"><value>scaffolding</value></property>
      <property name="commandClass"><value>java.util.ArrayList</value></property>    
   </bean>
   
   <bean id="listPageActivitiesController" class="org.sakaiproject.metaobj.utils.mvc.impl.servlet.ViewControllerImpl">
   	<property name="controller">
   		<bean class="org.theospi.portfolio.matrix.control.ListPageActivities">
   			<property name="taggingManager">
               <ref bean="org.sakaiproject.taggable.api.TaggingManager" />
            </property>
            <property name="linkManager">
            	<ref bean="org.sakaiproject.taggable.api.LinkManager" />
            </property>
            <property name="matrixManager"><ref bean="matrixManager"/></property>
            <property name="idManager"><ref bean="idManager"/></property>
            <property name="entityManager">
               <ref bean="org.sakaiproject.entity.api.EntityManager"/>
            </property>
            <property name="worksiteManager">
               <ref bean="org.sakaiproject.metaobj.worksite.mgt.WorksiteManager"/>
            </property>
   		</bean>
   	</property>
   	<property name="screenMappings">
         <props>
            <prop key="success">listPageActivities</prop>
            <prop key="goback">editScaffoldingCellRedirect</prop>
         </props>
      </property>      
      <property name="commandName"><value>pageActivities</value></property>
      <property name="commandClass"><value>java.util.HashSet</value></property> 
   </bean>
   
   <bean id="scaffoldingCellInfoController" class="org.sakaiproject.metaobj.utils.mvc.impl.servlet.ViewControllerImpl">
      <property name="controller">
         <bean class="org.theospi.portfolio.matrix.control.ScaffoldingCellInfoController">
            <property name="matrixManager"><ref bean="matrixManager"/></property>
            <property name="idManager"><ref bean="idManager"/></property>
         </bean>
      </property>
      <property name="screenMappings">
         <props>
            <prop key="success">cellDetail</prop>
         </props>
      </property>      
      <property name="commandName"><value>scaffoldingCell</value></property>
      <property name="commandClass"><value>org.theospi.portfolio.matrix.model.ScaffoldingCell</value></property>    
   </bean>
   
   <bean id="exposedScaffoldingController" class="org.sakaiproject.metaobj.utils.mvc.impl.servlet.ViewControllerImpl">
      <property name="controller">
         <bean class="org.theospi.portfolio.matrix.control.ExposedScaffoldingController">
            <property name="matrixManager"><ref bean="matrixManager"/></property>
            <property name="idManager"><ref bean="idManager"/></property>
         </bean>
      </property>
      <property name="customTypedEditors">
         <list>
            <ref bean="mimeTypeCustomEditor"/>
         </list>
      </property>
      <property name="screenMappings">
         <props>
            <prop key="success">listScaffoldingRedirect</prop>
         </props>
      </property>      
      <property name="commandName"><value>scaffolding</value></property>
      <property name="commandClass"><value>org.theospi.portfolio.matrix.model.Scaffolding</value></property>    
   </bean>

   <bean id="viewMatrixController" class="org.sakaiproject.metaobj.utils.mvc.impl.servlet.FormControllerImpl">
      <property name="controller">
         <bean class="org.theospi.portfolio.matrix.control.ViewMatrixController">
            <property name="matrixManager"><ref bean="matrixManager"/></property>
            <property name="authManager"><ref bean="authManager"/></property>
            <property name="idManager"><ref bean="idManager"/></property>
            <property name="authzManager"><ref bean="authzManager"/></property>
            <property name="reviewManager">
               <ref bean="org.theospi.portfolio.review.mgt.ReviewManager"/>
            </property>
            <property name="agentManager"><ref bean="agentManager" /></property>
            <property name="worksiteManager">
               <ref bean="org.sakaiproject.metaobj.worksite.mgt.WorksiteManager"/>
            </property>
            <property name="toolManager">
               <ref bean="org.sakaiproject.tool.api.ActiveToolManager" />
            </property>
            <property name="styleManager">
               <ref bean="org.theospi.portfolio.style.mgt.StyleManager" />
            </property>
            <property name="securityService">
            	<ref bean="org.sakaiproject.authz.api.SecurityService" />
            </property>
            <property name="wizardActivityProducer">
               <ref bean="org.theospi.portfolio.wizard.taggable.api.WizardActivityProducer" />
            </property>
         </bean>
      </property>
      <property name="customTypedEditors">
         <list>
            <ref bean="mimeTypeCustomEditor"/>
         </list>
      </property>
      <property name="screenMappings">
         <props>
            <prop key="success">matrixRedirect</prop>
            <prop key="cellView">viewCell</prop>
         </props>
      </property>      
      <property name="commandName"><value>matrixContents</value></property>
      <property name="commandClass"><value>org.theospi.portfolio.matrix.control.MatrixGridBean</value></property>
      <property name="formView"><value>viewMatrix</value></property>      
   </bean>

   <bean id="cellController" class="org.sakaiproject.metaobj.utils.mvc.impl.servlet.FormControllerImpl">
      <property name="controller">
         <bean class="org.theospi.portfolio.matrix.control.CellController">
            <property name="enableReviewEdit"><value>true</value></property>
            <property name="matrixManager"><ref bean="matrixManager"/></property>
            <property name="authManager"><ref bean="authManager"/></property>
            <property name="idManager"><ref bean="idManager"/></property>
            <property name="authzManager"><ref bean="authzManager"/></property>
            <property name="reviewManager">
               <ref bean="org.theospi.portfolio.review.mgt.ReviewManager"/>
            </property>
            <property name="structuredArtifactDefinitionManager">
               <ref bean="structuredArtifactDefinitionManager"/>
            </property>
            <property name="taggingManager">
               <ref bean="org.sakaiproject.taggable.api.TaggingManager" />
            </property>
            <property name="wizardActivityProducer">
               <ref bean="org.theospi.portfolio.wizard.taggable.api.WizardActivityProducer" />
            </property>
            <property name="wizardManager">
               <ref bean="org.theospi.portfolio.wizard.mgt.WizardManager" />
            </property>
            <property name="sessionManager">
               <ref bean="org.sakaiproject.tool.api.SessionManager" />
            </property>
            <property name="styleManager">
               <ref bean="org.theospi.portfolio.style.mgt.StyleManager" />
            </property>
            <property name="ratingProviderIds">
              <list>
                <value>org.sakaiproject.gmt.tagging.api.GmtTaggingProvider</value>
              </list>
            </property>
            <property name="serverConfigurationService">
            	<ref bean="org.sakaiproject.component.api.ServerConfigurationService" />
            </property>
            <property name="securityService">
            	<ref bean="org.sakaiproject.authz.api.SecurityService" />
            </property>
         </bean>
      </property>
      <property name="screenMappings">
         <props>
            <prop key="success">viewCell</prop>
            <prop key="cancel">matrixRedirect</prop>
            <prop key="matrixError">listScaffoldingRedirect</prop>
            <prop key="cancelEvaluation">evaluationRedirect</prop>
            <prop key="confirm">submitCellConfirmationRedirect</prop>
            <prop key="guidance">viewGuidance</prop>
            <prop key="review">formCreator</prop>
            <prop key="formPicker">formPicker</prop>
            <prop key="tagItem">tagItemRedirect</prop>
            <prop key="viewCellInformation">viewCellInformationRedirect</prop>
            <prop key="inviteFeedbackConfirm">inviteFeedbackConfirmRedirect</prop>
         </props>
      </property>
      <property name="customTypedEditors">
         <list>
            <ref bean="idCustomEditor"/>
         </list>
      </property>
      <property name="commandName"><value>cellBean</value></property>
      <property name="commandClass"><value>org.theospi.portfolio.matrix.control.CellFormBean</value></property>
      <property name="formView"><value>viewCell</value></property>
   </bean>

   <bean id="wizardPageController" class="org.sakaiproject.metaobj.utils.mvc.impl.servlet.FormControllerImpl">
      <property name="controller">
         <bean class="org.theospi.portfolio.matrix.control.WizardPageController">
            <property name="matrixManager"><ref bean="matrixManager"/></property>
            <property name="authManager"><ref bean="authManager"/></property>
            <property name="idManager"><ref bean="idManager"/></property>
            <property name="reviewManager">
               <ref bean="org.theospi.portfolio.review.mgt.ReviewManager"/>
            </property>
            <property name="structuredArtifactDefinitionManager">
               <ref bean="structuredArtifactDefinitionManager"/>
            </property>
            <property name="wizardManager">
               <ref bean="org.theospi.portfolio.wizard.mgt.WizardManager" />
            </property>
            <property name="sessionManager">
               <ref bean="org.sakaiproject.tool.api.SessionManager" />
            </property>
            <property name="taggingManager">
               <ref bean="org.sakaiproject.taggable.api.TaggingManager" />
            </property>
            <property name="wizardActivityProducer">
               <ref bean="org.theospi.portfolio.wizard.taggable.api.WizardActivityProducer" />
            </property>
            <property name="styleManager">
               <ref bean="org.theospi.portfolio.style.mgt.StyleManager" />
            </property>
            <property name="ratingProviderIds">
              <list>
                <value>org.sakaiproject.gmt.tagging.api.GmtTaggingProvider</value>
              </list>
            </property>
         </bean>
      </property>
      <property name="screenMappings">
         <props>
            <prop key="success">wizardPageHierRedirect</prop>
            <prop key="cancel">helperDone</prop>
            <prop key="confirm">submitCellConfirmationRedirect</prop>
            <prop key="cancelEvaluation">evaluationRedirect</prop>
            <prop key="confirmWizard">submitWizardConfirmationRedirect</prop>
            <prop key="guidance">viewGuidance</prop>
            <prop key="review">formCreator</prop>
            <prop key="formPicker">formPicker</prop>
            <!--
            <prop key="success">wizardPageDefinitionRedirect</prop>
            <prop key="loadReviewers">wizardPageDefinitionRedirect</prop>
            <prop key="return">helperDone</prop>
            <prop key="editScaffoldingCellConfirm">helperDone</prop>
            <prop key="selectEvaluators">selectCellEvaluators</prop>
            <prop key="createGuidance">createGuidance</prop>
            <prop key="editInstructions">editInstructions</prop>
            <prop key="editRationale">editRationale</prop>
            <prop key="editExamples">editExamples</prop>
            -->
         </props>
      </property>
      <property name="customTypedEditors">
         <list>
            <ref bean="idCustomEditor"/>
         </list>
      </property>
      <property name="commandName"><value>cellBean</value></property>
      <property name="commandClass"><value>org.theospi.portfolio.matrix.control.CellFormBean</value></property>
      <property name="formView"><value>viewCell</value></property>
   </bean>

	<bean id="viewCellInformationController" class="org.sakaiproject.metaobj.utils.mvc.impl.servlet.ViewControllerImpl">
      <property name="controller">
         <bean
         	class="org.theospi.portfolio.matrix.control.ViewCellInformationController">
         	<property name="idManager">
         		<ref bean="idManager" />
         	</property>
         	<property name="matrixManager">
         		<ref bean="matrixManager" />
         	</property>
         	<property name="wizardManager">
         		<ref bean="org.theospi.portfolio.wizard.mgt.WizardManager" />
         	</property>
         	<property name="sessionManager">
         		<ref bean="org.sakaiproject.tool.api.SessionManager" />
         	</property>
         </bean>
      </property>
      <property name="screenMappings">
         <props>
            <prop key="success">viewCellInformation</prop>
         </props>
      </property> 
      <property name="customTypedEditors">
         <list>
            <ref bean="idCustomEditor"/>
         </list>
      </property>
      <property name="commandName"><value>wizardPageDef</value></property>
      <property name="commandClass"><value>org.theospi.portfolio.matrix.model.WizardPageDefinition</value></property>
    
   </bean>


   <bean id="viewAssignmentController" class="org.sakaiproject.metaobj.utils.mvc.impl.servlet.FormControllerImpl">
      <property name="controller">
         <bean class="org.theospi.portfolio.matrix.control.ViewAssignmentController">
            <property name="matrixManager"><ref bean="matrixManager"/></property>
            <property name="idManager"><ref bean="idManager"/></property>
            <property name="sessionManager">
               <ref bean="org.sakaiproject.tool.api.SessionManager" />
            </property>
         </bean>
      </property>
      <property name="screenMappings">
         <props>
            <prop key="gotoMatrix">viewCellRedirect</prop>
            <prop key="gotoWizard">viewPageRedirect</prop>
            <prop key="matrixError">listScaffoldingRedirect</prop>
         </props>
      </property>      
      <property name="commandName"><value>cellBean</value></property>
      <property name="commandClass"><value>org.theospi.portfolio.matrix.control.CellFormBean</value></property>
      <property name="formView"><value>viewAssign</value></property>      
   </bean>

   <bean id="sequentialWizardPageController" class="org.sakaiproject.metaobj.utils.mvc.impl.servlet.FormControllerImpl">
      <property name="controller">
         <bean class="org.theospi.portfolio.matrix.control.SequentialWizardPageController">
            <property name="matrixManager"><ref bean="matrixManager"/></property>
            <property name="authManager"><ref bean="authManager"/></property>
            <property name="idManager"><ref bean="idManager"/></property>
            <property name="reviewManager">
               <ref bean="org.theospi.portfolio.review.mgt.ReviewManager"/>
            </property>
            <property name="structuredArtifactDefinitionManager">
               <ref bean="structuredArtifactDefinitionManager"/>
            </property>
            <property name="wizardManager">
               <ref bean="org.theospi.portfolio.wizard.mgt.WizardManager" />
            </property>
            <property name="sessionManager">
               <ref bean="org.sakaiproject.tool.api.SessionManager" />
            </property>
            <property name="taggingManager">
               <ref bean="org.sakaiproject.taggable.api.TaggingManager" />
            </property>
            <property name="wizardActivityProducer">
               <ref bean="org.theospi.portfolio.wizard.taggable.api.WizardActivityProducer" />
            </property>
            <property name="styleManager">
               <ref bean="org.theospi.portfolio.style.mgt.StyleManager" />
            </property>
            <property name="ratingProviderIds">
              <list>
                <value>org.sakaiproject.gmt.tagging.api.GmtTaggingProvider</value>
              </list>
            </property>
         </bean>
      </property>
      <property name="screenMappings">
         <props>
            <prop key="success">wizardPageSeqAndMatrixRedirect</prop>
            <prop key="cancel">helperDone</prop>
            <prop key="confirm">submitCellConfirmationRedirect</prop>
            <prop key="cancelEvaluation">evaluationRedirect</prop>
            <prop key="confirmWizard">submitWizardConfirmationRedirect</prop>
            <prop key="guidance">viewGuidance</prop>
            <prop key="review">formCreator</prop>
            <prop key="formPicker">formPicker</prop>
            <!--
            <prop key="success">wizardPageDefinitionRedirect</prop>
            <prop key="loadReviewers">wizardPageDefinitionRedirect</prop>
            <prop key="return">helperDone</prop>
            <prop key="editScaffoldingCellConfirm">helperDone</prop>
            <prop key="selectEvaluators">selectCellEvaluators</prop>
            <prop key="createGuidance">createGuidance</prop>
            <prop key="editInstructions">editInstructions</prop>
            <prop key="editRationale">editRationale</prop>
            <prop key="editExamples">editExamples</prop>
            -->
         </props>
      </property>
      <property name="customTypedEditors">
         <list>
            <ref bean="idCustomEditor"/>
         </list>
      </property>
      <property name="commandName"><value>cellBean</value></property>
      <property name="commandClass"><value>org.theospi.portfolio.matrix.control.CellFormBean</value></property>
      <property name="formView"><value>viewCell</value></property>
   </bean>

   <bean id="cellFormPickerController" class="org.sakaiproject.metaobj.utils.mvc.impl.servlet.ViewControllerImpl">
      <property name="controller">
         <bean class="org.theospi.portfolio.matrix.control.CellFormPickerController">
            <property name="matrixManager"><ref bean="matrixManager"/></property>
            <property name="idManager"><ref bean="idManager"/></property>
            <property name="contentHosting">
               <ref bean="org.sakaiproject.content.api.ContentHostingService"/>
            </property>
            <property name="entityManager">
               <ref bean="org.sakaiproject.entity.api.EntityManager"/>
            </property>
            <property name="sessionManager">
               <ref bean="org.sakaiproject.tool.api.SessionManager"/>
            </property>
            <property name="securityService">
               <ref bean="org.sakaiproject.authz.api.SecurityService" />
            </property>
            <property name="structuredArtifactDefinitionManager">
               <ref bean="structuredArtifactDefinitionManager"/>
            </property>
            <property name="styleManager">
               <ref bean="org.theospi.portfolio.style.mgt.StyleManager" />
            </property>
         </bean>
      </property>
      <property name="screenMappings">
         <props>
            <prop key="page">helperDone</prop>
            <prop key="formPicker">formPicker</prop>
            <prop key="formCreator">formCreator</prop>
            <prop key="formViewer">formViewer</prop>
         </props>
      </property>
      <property name="customTypedEditors">
         <list>
            <ref bean="idCustomEditor"/>
         </list>
      </property>
      <property name="commandName"><value>cellBean</value></property>
      <property name="commandClass"><value>org.theospi.portfolio.matrix.control.CellFormBean</value></property>
   </bean>

   <bean id="formDeleteController" class="org.sakaiproject.metaobj.utils.mvc.impl.servlet.ViewControllerImpl">
      <property name="controller">
         <bean class="org.theospi.portfolio.matrix.control.FormDeleteController">
            <property name="matrixManager"><ref bean="matrixManager"/></property>
            <property name="idManager"><ref bean="idManager"/></property>
 	         <property name="contentHosting">
               <ref bean="org.sakaiproject.content.api.ContentHostingService"/>
            </property>
            <property name="reviewManager">
               <ref bean="org.theospi.portfolio.review.mgt.ReviewManager"/>
            </property>
	        <property name="lockManager">
	           <ref bean="org.sakaiproject.content.api.LockManager"/>
	        </property>
         </bean>
      </property>
      <property name="screenMappings">
         <props>
            <prop key="continue">helperDone</prop>
         </props>
      </property>
      <property name="customTypedEditors">
         <list>
            <ref bean="idCustomEditor"/>
         </list>
      </property>
      <property name="commandName"><value>model</value></property>
      <property name="commandClass"><value>java.util.Map</value></property>
   </bean>

   <bean id="resourceDeleteController" class="org.sakaiproject.metaobj.utils.mvc.impl.servlet.ViewControllerImpl">
      <property name="controller">
         <bean class="org.theospi.portfolio.matrix.control.ResourceDeleteController">
            <property name="matrixManager"><ref bean="matrixManager"/></property>
            <property name="idManager"><ref bean="idManager"/></property>
         </bean>
      </property>
      <property name="screenMappings">
         <props>
            <prop key="success">helperDone</prop>
            <prop key="continue">helperDone</prop>
         </props>
      </property>
      <property name="customTypedEditors">
         <list>
            <ref bean="idCustomEditor"/>
         </list>
      </property>
      <property name="commandName"><value>model</value></property>
      <property name="commandClass"><value>java.util.Map</value></property>
   </bean>

   <bean id="submitCellConfirmationController" class="org.sakaiproject.metaobj.utils.mvc.impl.servlet.ViewControllerImpl">
      <property name="controller">
         <bean class="org.theospi.portfolio.matrix.control.SubmitCellConfirmationController">
            <property name="matrixManager"><ref bean="matrixManager"/></property>
            <property name="wizardManager"><ref bean="org.theospi.portfolio.wizard.mgt.WizardManager" /></property>
            <property name="idManager"><ref bean="idManager"/></property>
         </bean>
      </property>
      <property name="screenMappings">
         <props>
            <prop key="success">submitCellConfirmation</prop>
            <prop key="continueSeq">wizardPageSeqAndMatrixRedirect</prop>
            <prop key="continueHier">wizardPageHierRedirect</prop>
            <prop key="done">wizardListRedirect</prop>
         </props>
      </property>
      <property name="customTypedEditors">
         <list>
            <ref bean="idCustomEditor"/>
         </list>
      </property>
      <property name="commandName"><value>model</value></property>
      <property name="commandClass"><value>java.util.Map</value></property>
   </bean>

   <bean id="reviewHelperController" class="org.sakaiproject.metaobj.utils.mvc.impl.servlet.ViewControllerImpl">
      <property name="controller">
         <bean class="org.theospi.portfolio.matrix.control.ReviewHelperController">
            <property name="matrixManager"><ref bean="matrixManager"/></property>
            <property name="idManager"><ref bean="idManager"/></property>
            <property name="reviewManager">
               <ref bean="org.theospi.portfolio.review.mgt.ReviewManager"/>
            </property>
            <property name="wizardManager">
               <ref bean="org.theospi.portfolio.wizard.mgt.WizardManager" />
            </property>
	        <property name="lockManager">
	           <ref bean="org.sakaiproject.content.api.LockManager"/>
	        </property>
	        <property name="contentHosting">
               <ref bean="org.sakaiproject.content.api.ContentHostingService"/>
            </property>
            <property name="styleManager">
               <ref bean="org.theospi.portfolio.style.mgt.StyleManager"/>
            </property>
            <property name="authManager"><ref bean="authManager"/></property>
            <property name="securityService">
            	<ref bean="org.sakaiproject.authz.api.SecurityService" />
            </property>
            <property name="workflowManager">
               <ref bean="org.theospi.portfolio.workflow.mgt.WorkflowManager" />
            </property>
            <property name="matrixPreferencesConfig">
               <ref bean="org.sakaiproject.user.api.UserNotificationPreferencesRegistration.matrix" />
            </property>
            <property name="wizardPreferencesConfig">
               <ref bean="org.sakaiproject.user.api.UserNotificationPreferencesRegistration.wizard" />
            </property>
         </bean>
      </property>
      <property name="screenMappings">
         <props>
            <prop key="formCreator">formCreator</prop>
            <prop key="formEditor">formEditor</prop>
            <prop key="return">helperDone</prop>
            <prop key="postProcessor">postProcessorWorkflow</prop>
         </props>
      </property>
      <property name="customTypedEditors">
         <list>
            <ref bean="idCustomEditor"/>
         </list>
      </property>
      <property name="commandName"><value>string</value></property>
      <property name="commandClass"><value>java.lang.String</value></property>
   </bean>
   
   <bean id="feedbackHelperController" class="org.sakaiproject.metaobj.utils.mvc.impl.servlet.ViewControllerImpl">
      <property name="controller">
         <bean class="org.theospi.portfolio.matrix.control.FeedbackHelperController">
         	<property name="matrixManager"><ref bean="matrixManager"/></property>
            <property name="idManager"><ref bean="idManager"/></property>        	
         </bean>
      </property>
      <property name="screenMappings">
         <props>
            <prop key="inviteFeedback">inviteFeedback</prop>
            <prop key="viewCell">viewCellRedirect</prop>
            <prop key="viewScaffolding">matrixRedirect</prop>
            <prop key="notifyAudience">notifyAudience</prop>
         </props>
      </property>
      <property name="customTypedEditors">
         <list>
            <ref bean="idCustomEditor"/>
         </list>
      </property>
      <property name="commandName"><value>string</value></property>
      <property name="commandClass"><value>java.lang.String</value></property>
   </bean>
   

   <bean id="reviewPostProcessor" class="org.sakaiproject.metaobj.utils.mvc.impl.servlet.FormControllerImpl">
      <property name="controller">
         <bean class="org.theospi.portfolio.matrix.control.ReviewPostProcessor">
            <property name="idManager"><ref bean="idManager"/></property>
            <property name="authManager"><ref bean="authManager"/></property>
            <property name="securityService">
            	<ref bean="org.sakaiproject.authz.api.SecurityService" />
            </property>
         </bean>
      </property>
      <property name="screenMappings">
         <props>
         	<prop key="enter">postProcessorWorkflow</prop>
            <prop key="success">helperDone</prop>
         </props>
      </property>
      <property name="customTypedEditors">
         <list>
            <ref bean="idCustomEditor"/>
         </list>
      </property>
      <property name="commandName"><value>string</value></property>
      <property name="commandClass"><value>java.lang.String</value></property>
      <property name="formView"><value>postProcessorWorkflow</value></property>
   </bean>

   <bean id="listEvaluationItemsController" class="org.sakaiproject.metaobj.utils.mvc.impl.servlet.FormControllerImpl">
      <property name="controller">
      <bean class="org.theospi.portfolio.matrix.control.ListEvaluationItemController">
         <property name="matrixManager"><ref bean="matrixManager"/></property>
         <property name="idManager"><ref bean="idManager"/></property>
         <property name="authManager"><ref bean="authManager"/></property>
         <property name="authzManager"><ref bean="authzManager"/></property>
         <property name="agentManager"><ref bean="agentManager" /></property>
         <property name="worksiteManager">
            <ref bean="org.sakaiproject.metaobj.worksite.mgt.WorksiteManager"/>
         </property>
         <property name="toolManager">
            <ref bean="org.sakaiproject.tool.api.ActiveToolManager" />
         </property>
         <property name="listScrollIndexer">
            <ref bean="org.sakaiproject.metaobj.utils.mvc.intf.ListScrollIndexer"/>
         </property>
         <property name="wizardManager">
            <ref bean="org.theospi.portfolio.wizard.mgt.WizardManager" />
         </property>
      </bean>
      </property>
      <property name="screenMappings">
         <props>
            <prop key="success">reviewCellRedirect</prop>
            <prop key="open_eval_cell">openEvaluationCellRedirect</prop>
            <prop key="open_eval_page_seq">openEvaluationPageSeqRedirect</prop>
            <prop key="open_eval_page_hier">openEvaluationPageHierRedirect</prop>
            <prop key="open_eval_wizard">openEvaluationWizardRedirect</prop>
            <prop key="nothing">listEvaluationItemsRedirect</prop>
         </props>
      </property>

<!--      <property name="validator"><ref bean="matrixValidator"/></property> -->
      <property name="commandName"><value>reviewerItems</value></property>
      <property name="commandClass"><value>java.util.List</value></property>
      <property name="formView"><value>listEvaluationItems</value></property>
   </bean>

   <bean id="viewScaffoldingController" class="org.sakaiproject.metaobj.utils.mvc.impl.servlet.FormControllerImpl">
      <property name="controller">
         <bean class="org.theospi.portfolio.matrix.control.ViewScaffoldingController">
            <property name="matrixManager"><ref bean="matrixManager"/></property>
            <property name="idManager"><ref bean="idManager"/></property>
            <property name="authzManager"><ref bean="authzManager"/></property>
            <property name="worksiteManager">
               <ref bean="org.sakaiproject.metaobj.worksite.mgt.WorksiteManager"/>
            </property>
            <property name="toolManager">
               <ref bean="org.sakaiproject.tool.api.ActiveToolManager" />
            </property>
            <property name="workflowManager">
               <ref bean="org.theospi.portfolio.workflow.mgt.WorkflowManager" />
            </property>
            <property name="styleManager">
               <ref bean="org.theospi.portfolio.style.mgt.StyleManager" />
            </property>
            <property name="authManager"><ref bean="authManager"/></property>
      <!--  <property name="homeFactory"><ref bean="homeFactory"/></property>
            <property name="repositoryManager"><ref bean="repositoryManager"/></property>
            <property name="matrixAuthorizer"><ref bean="matrixAuthorizer"/></property>

            -->
         </bean>
      </property>
      <property name="screenMappings">
         <props>
            <prop key="success">viewScaffolding</prop>
            <prop key="cellView">viewCell</prop>
         </props>
      </property>
      <property name="commandName"><value>matrixContents</value></property>
      <property name="commandClass"><value>org.theospi.portfolio.matrix.control.MatrixGridBean</value></property>
      <property name="formView"><value>viewScaffolding</value></property>
   </bean>

   <bean id="addScaffoldingController" class="org.sakaiproject.metaobj.utils.mvc.impl.servlet.FormControllerImpl">
      <property name="controller">
         <bean class="org.theospi.portfolio.matrix.control.AddScaffoldingController">
            <property name="worksiteManager">
         		<ref bean="org.sakaiproject.metaobj.worksite.mgt.WorksiteManager"/>
		      </property>
            <property name="entityManager">
               <ref bean="org.sakaiproject.entity.api.EntityManager"/>
            </property>
		      <property name="matrixManager"><ref bean="matrixManager"/></property>
		      <property name="idManager"><ref bean="idManager"/></property>
		      <property name="authzManager"><ref bean="authzManager"/></property>
		      <property name="sessionManager">
               <ref bean="org.sakaiproject.tool.api.SessionManager"/>
            </property>
		      <property name="authManager"><ref bean="authManager"/></property>
		      <property name="lockManager">
		         <ref bean="org.sakaiproject.content.api.LockManager"/>
      		</property>
            <property name="contentHosting">
               <ref bean="org.sakaiproject.content.api.ContentHostingService"/>
            </property>
            <property name="reviewManager">
               <ref bean="org.theospi.portfolio.review.mgt.ReviewManager"/>
            </property>
            <property name="taggingManager">
               <ref bean="org.sakaiproject.taggable.api.TaggingManager" />
            </property>
            <property name="wizardActivityProducer">
               <ref bean="org.theospi.portfolio.wizard.taggable.api.WizardActivityProducer" />
            </property>
            <property name="structuredArtifactDefinitionManager"><ref bean="structuredArtifactDefinitionManager"/></property>
            <property name="wizardManager"><ref bean="org.theospi.portfolio.wizard.mgt.WizardManager" /></property>
         </bean>
      </property>
      <property name="customTypedEditors">
         <list>
            <ref bean="idCustomEditor"/>
         </list>
      </property>
      <property name="screenMappings">
         <props>
            <prop key="success">addScaffoldingRedirect</prop>
            <prop key="view">viewScaffoldingRedirect</prop>
            <prop key="return">listScaffoldingRedirect</prop>
            <prop key="addLevel">addLevelRedirect</prop>
            <prop key="addCriterion">addCriterionRedirect</prop>
            <prop key="deleteLevel">deleteLevelRedirect</prop>
            <prop key="deleteCriterion">deleteCriterionRedirect</prop>
            <prop key="moveLevel">moveLevelRedirect</prop>
            <prop key="moveCriterion">moveCriterionRedirect</prop>
            <prop key="removeLevCrit">removeLevCritRedirect</prop>
            <prop key="editScaffoldingConfirm">editScaffoldingConfirmRedirect</prop>
            <prop key="selectEvaluators">selectCellEvaluators</prop>
            <prop key="selectReviewers">selectCellEvaluators</prop>
         </props>
      </property>
      <property name="validator"><ref bean="matrixValidator"/></property>
		<property name="commandName"><value>scaffolding</value></property>
      <property name="commandClass"><value>org.theospi.portfolio.matrix.model.Scaffolding</value></property>
      <property name="formView"><value>addScaffolding</value></property>
   </bean>
   
   <bean id="prettyScaffoldingController" class="org.sakaiproject.metaobj.utils.mvc.impl.servlet.FormControllerImpl">
      <property name="controller">
         <bean class="org.theospi.portfolio.matrix.control.PrettyScaffoldingController">
            <property name="worksiteManager">
         		<ref bean="org.sakaiproject.metaobj.worksite.mgt.WorksiteManager"/>
		      </property>
            <property name="entityManager">
               <ref bean="org.sakaiproject.entity.api.EntityManager"/>
            </property>
		      <property name="matrixManager"><ref bean="matrixManager"/></property>
		      <property name="idManager"><ref bean="idManager"/></property>
		      <property name="authzManager"><ref bean="authzManager"/></property>
		      <property name="sessionManager">
               <ref bean="org.sakaiproject.tool.api.SessionManager"/>
            </property>
		      <property name="authManager"><ref bean="authManager"/></property>
		      <property name="lockManager">
		         <ref bean="org.sakaiproject.content.api.LockManager"/>
      		</property>
            <property name="contentHosting">
               <ref bean="org.sakaiproject.content.api.ContentHostingService"/>
            </property>
            <property name="reviewManager">
               <ref bean="org.theospi.portfolio.review.mgt.ReviewManager"/>
            </property>
         </bean>
      </property>
      <property name="customTypedEditors">
         <list>
            <ref bean="idCustomEditor"/>
         </list>
      </property>
      <property name="screenMappings">
         <props>
            <prop key="success">prettyScaffoldingRedirect</prop>
            <prop key="view">viewScaffoldingRedirect</prop>
            <prop key="return">listScaffoldingRedirect</prop>
            <prop key="addLevel">addLevelRedirect</prop>
            <prop key="addCriterion">addCriterionRedirect</prop>
            <prop key="deleteLevel">deleteLevelRedirect</prop>
            <prop key="deleteCriterion">deleteCriterionRedirect</prop>
            <prop key="moveLevel">moveLevelRedirect</prop>
            <prop key="moveCriterion">moveCriterionRedirect</prop>
            <prop key="removeLevCrit">removeLevCritRedirect</prop>
            <prop key="editScaffoldingConfirm">editScaffoldingConfirmRedirect</prop>
         </props>
      </property>
      <property name="validator"><ref bean="matrixValidator"/></property>
		<property name="commandName"><value>matrixContents</value></property>
      <property name="commandClass"><value>org.theospi.portfolio.matrix.control.MatrixGridBean</value></property>
      <property name="formView"><value>prettyScaffolding</value></property>
   </bean>

   <bean id="addLevelController" class="org.sakaiproject.metaobj.utils.mvc.impl.servlet.FormControllerImpl">
      <property name="controller">
         <bean class="org.theospi.portfolio.matrix.control.AddLevelController"/>
         </property>
      <property name="screenMappings">
         <props>
            <prop key="success">addScaffoldingRedirect</prop>
         </props>
      </property>
      <property name="customTypedEditors">
         <list>
            <ref bean="idCustomEditor"/>
         </list>
      </property>
      <property name="validator"><ref bean="matrixValidator"/></property>
      <property name="commandName"><value>level</value></property>
      <property name="commandClass"><value>org.theospi.portfolio.matrix.model.LevelTransport</value></property>
      <property name="formView"><value>addLevel</value></property>
   </bean>

   <bean id="deleteLevelController" class="org.sakaiproject.metaobj.utils.mvc.impl.servlet.ViewControllerImpl">
      <property name="controller">
         <bean class="org.theospi.portfolio.matrix.control.DeleteLevelController">
            <property name="lockManager">
               <ref bean="org.sakaiproject.content.api.LockManager"/>
            </property>
         </bean>
      </property>
      <property name="screenMappings">
         <props>
            <prop key="success">addScaffoldingRedirect</prop>
         </props>
      </property>
      <property name="commandName"><value>level</value></property>
      <property name="commandClass"><value>org.theospi.portfolio.matrix.model.Level</value></property>
   </bean>

   <bean id="moveLevelController" class="org.sakaiproject.metaobj.utils.mvc.impl.servlet.ViewControllerImpl">
      <property name="controller">
         <bean class="org.theospi.portfolio.matrix.control.MoveLevelController"/>
      </property>
      <property name="screenMappings">
         <props>
            <prop key="success">editScaffoldingRedirect</prop>
         </props>
      </property>
      <property name="commandName"><value>level</value></property>
      <property name="commandClass"><value>org.theospi.portfolio.matrix.model.Level</value></property>
   </bean>

   <bean id="moveCriterionController" class="org.sakaiproject.metaobj.utils.mvc.impl.servlet.ViewControllerImpl">
      <property name="controller">
         <bean class="org.theospi.portfolio.matrix.control.MoveCriterionController"/>
      </property>
      <property name="screenMappings">
         <props>
            <prop key="success">editScaffoldingRedirect</prop>
         </props>
      </property>
      <property name="commandName"><value>criterion</value></property>
      <property name="commandClass"><value>org.theospi.portfolio.matrix.model.Criterion</value></property>
   </bean>

   <bean id="addCriterionController" class="org.sakaiproject.metaobj.utils.mvc.impl.servlet.FormControllerImpl">
      <property name="controller">
         <bean class="org.theospi.portfolio.matrix.control.AddCriterionController"/>
         </property>
      <property name="screenMappings">
         <props>
            <prop key="success">addScaffoldingRedirect</prop>
            <prop key="addCriterion">addCriterionRedirect</prop>
            <prop key="deleteCriterion">deleteCriterionRedirect</prop>
            <prop key="moveCriterion">moveCriterionRedirect</prop>
         </props>
      </property>
      <property name="validator"><ref bean="matrixValidator"/></property>
      <property name="commandName"><value>criterion</value></property>
      <property name="commandClass"><value>org.theospi.portfolio.matrix.model.CriterionTransport</value></property>
      <property name="formView"><value>addCriterion</value></property>
   </bean>

   <bean id="deleteCriterionController" class="org.sakaiproject.metaobj.utils.mvc.impl.servlet.ViewControllerImpl">
      <property name="controller">
         <bean class="org.theospi.portfolio.matrix.control.DeleteCriterionController">
            <property name="lockManager">
               <ref bean="org.sakaiproject.content.api.LockManager"/>
            </property>
         </bean>
      </property>
      <property name="screenMappings">
         <props>
            <prop key="success">addScaffoldingRedirect</prop>
         </props>
      </property>
      <property name="commandName"><value>criterion</value></property>
      <property name="commandClass"><value>org.theospi.portfolio.matrix.model.Criterion</value></property>
   </bean>

   <bean id="editScaffoldingConfirmController" class="org.sakaiproject.metaobj.utils.mvc.impl.servlet.FormControllerImpl">
      <property name="controller">
         <bean class="org.theospi.portfolio.matrix.control.EditScaffoldingConfirmationController">
            <property name="idManager"><ref bean="idManager"/></property>
            <property name="matrixManager"><ref bean="matrixManager"/></property>
            <property name="authzManager"><ref bean="authzManager"/></property>
            <property name="lockManager">
               <ref bean="org.sakaiproject.content.api.LockManager"/>
            </property>
            <property name="taggingManager">
               <ref bean="org.sakaiproject.taggable.api.TaggingManager" />
            </property>
             <property name="reviewManager">
               <ref bean="org.theospi.portfolio.review.mgt.ReviewManager"/>
            </property>
            <property name="sessionManager">
               <ref bean="org.sakaiproject.tool.api.SessionManager" />
            </property>
         </bean>
      </property>
      <property name="screenMappings">
         <props>
            <prop key="success">viewScaffoldingRedirect</prop>
            <prop key="cancel">addScaffoldingRedirect</prop>
         </props>
      </property>
      <property name="commandName"><value>scaffolding</value></property>
      <property name="commandClass"><value>org.theospi.portfolio.matrix.model.Scaffolding</value></property>
      <property name="formView"><value>editScaffoldingCellConfirm</value></property>
   </bean>

   <bean id="editScaffoldingCellConfirmController" class="org.sakaiproject.metaobj.utils.mvc.impl.servlet.FormControllerImpl">
      <property name="controller">
         <bean class="org.theospi.portfolio.matrix.control.EditScaffoldingCellConfirmationController">
            <property name="matrixManager"><ref bean="matrixManager"/></property>
            <property name="idManager"><ref bean="idManager"/></property>
            <property name="authzManager"><ref bean="authzManager"/></property>
            <property name="workflowManager">
               <ref bean="org.theospi.portfolio.workflow.mgt.WorkflowManager" />
            </property>
            <property name="guidanceManager">
               <ref bean="org.theospi.portfolio.guidance.mgt.GuidanceManager" />
            </property>
            <property name="taggingManager">
               <ref bean="org.sakaiproject.taggable.api.TaggingManager" />
            </property>
            <property name="sessionManager">
               <ref bean="org.sakaiproject.tool.api.SessionManager" />
            </property>
         </bean>
      </property>
      <property name="screenMappings">
         <props>
            <prop key="success">viewScaffoldingRedirect</prop>
            <prop key="cancel">editScaffoldingCellRedirect</prop>
         </props>
      </property>
      <property name="commandName"><value>scaffoldingCell</value></property>
      <property name="commandClass"><value>org.theospi.portfolio.matrix.model.ScaffoldingCell</value></property>
      <property name="formView"><value>editScaffoldingCellConfirm</value></property>
   </bean>

   <bean id="importScaffoldingController" class="org.sakaiproject.metaobj.utils.mvc.impl.servlet.FormControllerImpl">
      <property name="controller">
         <bean class="org.theospi.portfolio.matrix.control.ImportScaffoldingController">
            <property name="matrixManager"><ref bean="matrixManager"/></property>
            <property name="homeFactory"><ref bean="homeFactory"/></property>
            <property name="sessionManager">
               <ref bean="org.sakaiproject.tool.api.SessionManager" />
            </property>
            <property name="siteService">
               <ref bean="org.sakaiproject.site.api.SiteService" />
            </property>
            <property name="toolManager">
               <ref bean="org.sakaiproject.tool.api.ActiveToolManager" />
            </property>
         </bean>
      </property>
      <property name="screenMappings">
         <props>
            <prop key="success">addScaffoldingRedirect</prop>
            <prop key="filePicker">formPicker</prop>
         </props>
      </property>
      <property name="customTypedEditors">
         <list>
            <ref bean="refCustomEditor"/>
         </list>
      </property>
<!--       <property name="validator"><ref bean="matrixValidator"/></property> -->
      <property name="commandName"><value>uploadForm</value></property>
      <property name="commandClass"><value>org.theospi.portfolio.matrix.model.ScaffoldingUploadForm</value></property>
      <property name="formView"><value>importScaffolding</value></property>
   </bean>

   <bean id="wizardPageDefinitionController" class="org.sakaiproject.metaobj.utils.mvc.impl.servlet.FormControllerImpl">
      <property name="controller">
         <bean class="org.theospi.portfolio.matrix.control.WizardPageDefinitionController">
            <property name="matrixManager"><ref bean="matrixManager"/></property>
            <property name="idManager"><ref bean="idManager"/></property>
            <property name="authzManager"><ref bean="authzManager"/></property>
            <property name="agentManager"><ref bean="agentManager" /></property>
            <property name="worksiteManager">
               <ref bean="org.sakaiproject.metaobj.worksite.mgt.WorksiteManager"/>
            </property>
            <property name="wizardManager"><ref bean="org.theospi.portfolio.wizard.mgt.WizardManager" /></property>
            <property name="guidanceManager"><ref bean="org.theospi.portfolio.guidance.mgt.GuidanceManager" /></property>
            <property name="structuredArtifactDefinitionManager"><ref bean="structuredArtifactDefinitionManager"/></property>
            <property name="workflowManager">
               <ref bean="org.theospi.portfolio.workflow.mgt.WorkflowManager" />
            </property>
            <property name="taggingManager">
               <ref bean="org.sakaiproject.taggable.api.TaggingManager" />
            </property>
            <property name="wizardActivityProducer">
               <ref bean="org.theospi.portfolio.wizard.taggable.api.WizardActivityProducer" />
            </property>
            <property name="sessionManager">
               <ref bean="org.sakaiproject.tool.api.SessionManager" />
            </property>
            <property name="reviewManager">
               <ref bean="org.theospi.portfolio.review.mgt.ReviewManager"/>
            </property>
         </bean>
      </property>
      <property name="customTypedEditors">
         <list>
            <ref bean="idCustomEditor"/>
            <ref bean="viewerCustomEditor"/>
         </list>
      </property>
      <property name="screenMappings">
         <props>
            <prop key="success">wizardPageDefinitionRedirect</prop>
            <prop key="loadReviewers">wizardPageDefinitionRedirect</prop>
            <prop key="return">helperDone</prop>
            <prop key="editScaffoldingCellConfirm">helperDone</prop>
            <prop key="selectEvaluators">selectCellEvaluators</prop>
            <prop key="createGuidance">createGuidance</prop>
            <prop key="editInstructions">editInstructions</prop>
            <prop key="editRationale">editRationale</prop>
            <prop key="editExamples">editExamples</prop>
            <prop key="editRubrics">editRubrics</prop>
            <prop key="editExpectations">editExpectations</prop>
         </props>
      </property>
      <property name="validator"><ref bean="matrixValidator"/></property>
      <property name="commandName"><value>scaffoldingCell</value></property>
      <property name="commandClass"><value>org.theospi.portfolio.matrix.model.ScaffoldingCell</value></property>
      <property name="formView"><value>editScaffoldingCell</value></property>
   </bean>

   <bean id="editScaffoldingCellController" class="org.sakaiproject.metaobj.utils.mvc.impl.servlet.FormControllerImpl">
      <property name="controller">
         <bean class="org.theospi.portfolio.matrix.control.EditScaffoldingCellController">
            <property name="matrixManager"><ref bean="matrixManager"/></property>
            <property name="idManager"><ref bean="idManager"/></property>
            <property name="authzManager"><ref bean="authzManager"/></property>
            <property name="agentManager"><ref bean="agentManager" /></property>
            <property name="worksiteManager">
               <ref bean="org.sakaiproject.metaobj.worksite.mgt.WorksiteManager"/>
            </property>
            <property name="wizardManager"><ref bean="org.theospi.portfolio.wizard.mgt.WizardManager" /></property>
            <property name="guidanceManager"><ref bean="org.theospi.portfolio.guidance.mgt.GuidanceManager" /></property>
            <property name="structuredArtifactDefinitionManager"><ref bean="structuredArtifactDefinitionManager"/></property>
            <property name="workflowManager">
               <ref bean="org.theospi.portfolio.workflow.mgt.WorkflowManager" />
            </property>
            <property name="taggingManager">
               <ref bean="org.sakaiproject.taggable.api.TaggingManager" />
            </property>
            <property name="wizardActivityProducer">
               <ref bean="org.theospi.portfolio.wizard.taggable.api.WizardActivityProducer" />
            </property>
            <property name="sessionManager">
               <ref bean="org.sakaiproject.tool.api.SessionManager" />
            </property>
            <property name="reviewManager">
               <ref bean="org.theospi.portfolio.review.mgt.ReviewManager"/>
            </property>
         </bean>
      </property>
      <property name="customTypedEditors">
         <list>
            <ref bean="idCustomEditor"/>
            <ref bean="viewerCustomEditor"/>
         </list>
      </property>
      <property name="screenMappings">
         <props>
            <prop key="success">editScaffoldingCellRedirect</prop>
            <prop key="loadReviewers">editScaffoldingCellRedirect</prop>
			<prop key="return">viewScaffoldingRedirect</prop>
            <prop key="editScaffoldingCellConfirm">editScaffoldingCellConfirmRedirect</prop>
            <prop key="selectEvaluators">selectCellEvaluators</prop>
            <prop key="selectReviewers">selectCellEvaluators</prop>
            <prop key="createGuidance">createGuidance</prop>
            <prop key="deleteGuidance">editScaffoldingCellRedirect</prop>
            <prop key="editInstructions">editInstructions</prop>
            <prop key="editRationale">editRationale</prop>
            <prop key="editExamples">editExamples</prop>
            <prop key="listPageActivities">listPageActivitiesRedirect</prop>
         </props>
      </property>
      <property name="validator"><ref bean="matrixValidator"/></property>
      <property name="commandName"><value>scaffoldingCell</value></property>
      <property name="commandClass"><value>org.theospi.portfolio.matrix.model.ScaffoldingCell</value></property>
      <property name="formView"><value>editScaffoldingCell</value></property>
   </bean>

   <bean id="attachCellController" class="org.theospi.utils.mvc.impl.servlet.HelperConsumerFormControllerImpl">
      <property name="sessionManager">
         <ref bean="org.sakaiproject.tool.api.SessionManager"/>
      </property>
      <property name="controller">
         <bean class="org.theospi.portfolio.matrix.control.AttachArtifactController">
            <property name="sessionManager">
               <ref bean="org.sakaiproject.tool.api.SessionManager"/>
            </property>
            <property name="entityManager">
               <ref bean="org.sakaiproject.entity.api.EntityManager"/>
            </property>
            <property name="matrixManager"><ref bean="matrixManager"/></property>
            <property name="idManager"><ref bean="idManager"/></property>
            <property name="contentHosting">
				<ref bean="org.sakaiproject.content.api.ContentHostingService"/>
			</property>
         </bean>
      </property>
      <property name="screenMappings">
         <props>
            <prop key="success">helperDone</prop>
            <prop key="cancel">helperDone</prop>
         </props>
      </property>
      <property name="formView"><value>attachCell</value></property>
      <property name="commandName"><value>form</value></property>
      <property name="commandClass"><value>org.theospi.portfolio.matrix.control.CellAndNodeForm</value></property>
   </bean>  
   
   <bean id="previewScaffoldingController" class="org.sakaiproject.metaobj.utils.mvc.impl.servlet.ViewControllerImpl">
      <property name="controller">
         <bean class="org.theospi.portfolio.matrix.control.PreviewScaffoldingController">
				<property name="matrixManager"><ref bean="matrixManager"/></property>
            <property name="idManager"><ref bean="idManager"/></property>
         </bean>
      </property>
      <property name="screenMappings">
         <props>
            <prop key="success">listScaffoldingRedirect</prop>
         </props>
      </property>
      <property name="commandName"><value>scaffolding</value></property>
      <property name="commandClass"><value>org.theospi.portfolio.matrix.model.Scaffolding</value></property>
   </bean>
	
   <bean id="publishScaffoldingConfirmationController" class="org.sakaiproject.metaobj.utils.mvc.impl.servlet.ViewControllerImpl">
      <property name="controller">
         <bean class="org.theospi.portfolio.matrix.control.PublishScaffoldingConfirmationController">
            <property name="matrixManager"><ref bean="matrixManager"/></property>
            <property name="idManager"><ref bean="idManager"/></property>
         </bean>
      </property>
      <property name="screenMappings">
         <props>
            <prop key="success">publishScaffoldingConfirm</prop>
            <prop key="cancel">listScaffoldingRedirect</prop>
            <prop key="publish">listScaffoldingRedirect</prop>
         </props>
      </property>
      <property name="commandName"><value>scaffolding</value></property>
      <property name="commandClass"><value>org.theospi.portfolio.matrix.model.Scaffolding</value></property>
   </bean>
   
   <bean id="deleteScaffoldingConfirmationController" class="org.sakaiproject.metaobj.utils.mvc.impl.servlet.ViewControllerImpl">
      <property name="controller">
         <bean class="org.theospi.portfolio.matrix.control.DeleteScaffoldingConfirmationController">
            <property name="matrixManager"><ref bean="matrixManager"/></property>
            <property name="idManager"><ref bean="idManager"/></property>
            <property name="authzManager"><ref bean="authzManager"/></property>
            <property name="linkManager">
            	<ref bean="org.sakaiproject.taggable.api.LinkManager" />
            </property>
            <property name="taggingManager">
               <ref bean="org.sakaiproject.taggable.api.TaggingManager" />
            </property>
            <property name="wizardActivityProducer">
               <ref bean="org.theospi.portfolio.wizard.taggable.api.WizardActivityProducer" />
            </property>
         </bean>
      </property>
      <property name="screenMappings">
         <props>
            <prop key="delete">deleteScaffoldingConfirmation</prop>
            <prop key="success">listScaffoldingRedirect</prop>
            <prop key="cancel">listScaffoldingRedirect</prop>
         </props>
      </property>
      <property name="commandName"><value>scaffolding</value></property>
      <property name="commandClass"><value>org.theospi.portfolio.matrix.model.Scaffolding</value></property>
   </bean>
 
   <bean id="inviteFeedbackConfirmationController"  class="org.sakaiproject.metaobj.utils.mvc.impl.servlet.ViewControllerImpl">
      <property name="controller">
         <bean class="org.theospi.portfolio.matrix.control.InviteFeedbackConfirmationController">
	         <property name="matrixManager"><ref bean="matrixManager"/></property>
    	     <property name="idManager"><ref bean="idManager"/></property>
         </bean>
      </property>
      <property name="screenMappings">
         <props>
         	<prop key="success">inviteFeedbackConfirm</prop>
            <prop key="cancel">wizardPageSeqAndMatrixRedirect</prop>
         </props>
      </property>
		<property name="commandName"><value>model</value></property>
     	 <property name="commandClass"><value>java.util.Map</value></property>
   </bean>

   <bean id="removeLevCritConfirmationController" class="org.sakaiproject.metaobj.utils.mvc.impl.servlet.ViewControllerImpl">
      <property name="controller">
         <bean class="org.theospi.portfolio.matrix.control.RemoveLevCritConfirmationController">
         	<property name="idManager"><ref bean="idManager"/></property>
         </bean>
      </property>
      <property name="screenMappings">
         <props>
	         <prop key="success">removeLevCrit</prop>
            <prop key="cancel">addScaffoldingRedirect</prop>
            <prop key="deleteLevel">deleteLevelRedirect</prop>
            <prop key="deleteCriterion">deleteCriterionRedirect</prop>
         </props>
      </property>
      <property name="commandName"><value>model</value></property>
      <property name="commandClass"><value>org.theospi.portfolio.matrix.control.RemoveConfirmationInfoBean</value></property>
   </bean>
   
   <bean id="manageCellStatusController" class="org.sakaiproject.metaobj.utils.mvc.impl.servlet.ViewControllerImpl">
      <property name="controller">
         <bean class="org.theospi.portfolio.matrix.control.ManageCellStatusController">
            <property name="matrixManager"><ref bean="matrixManager"/></property>
            <property name="idManager"><ref bean="idManager"/></property>
            <property name="lockManager">
               <ref bean="org.sakaiproject.content.api.LockManager"/>
            </property>
            <property name="reviewManager">
               <ref bean="org.theospi.portfolio.review.mgt.ReviewManager"/>
            </property>
            <property name="agentManager">
               <ref bean="agentManager"/>
            </property>
            <property name="wizardManager">
               <ref bean="org.theospi.portfolio.wizard.mgt.WizardManager"/>
            </property>
         </bean>
      </property>
      <property name="screenMappings">
         <props>
            <prop key="success">manageCellStatus</prop>
            <prop key="cancel">wizardPageSeqAndMatrixRedirect</prop>
            <prop key="done">wizardPageSeqAndMatrixRedirect</prop>
            <prop key="doneHier">wizardPageHierRedirect</prop>
         </props>
      </property>
      <property name="commandName"><value>cell</value></property>
      <property name="commandClass"><value>org.theospi.portfolio.matrix.model.Cell</value></property>
   </bean>
   
   <bean id="assignRedirectorController" class="org.sakaiproject.metaobj.utils.mvc.impl.servlet.ViewControllerImpl">
      <property name="controller">
         <bean class="org.theospi.portfolio.matrix.control.AssignmentRedirectorController"/>
      </property>
      <property name="screenMappings">
         <props>
            <prop key="cell">editScaffoldingCellRedirect</prop>
            <prop key="page">wizardPageDefinitionRedirect</prop>
            <prop key="assignRedirector">assignRedirector</prop>
         </props>
      </property>
      <property name="customTypedEditors">
         <list>
            <ref bean="idCustomEditor"/>
         </list>
      </property>
      <property name="commandName"><value>cellBean</value></property>
      <property name="commandClass"><value>org.theospi.portfolio.matrix.control.CellFormBean</value></property>
   </bean>   
   
   <bean id="styleRedirectorController" class="org.sakaiproject.metaobj.utils.mvc.impl.servlet.ViewControllerImpl">
      <property name="controller">
         <bean class="org.theospi.portfolio.matrix.control.StyleRedirectorController">
            <property name="matrixManager"><ref bean="matrixManager"/></property>
            <property name="idManager"><ref bean="idManager"/></property>
         </bean>
      </property>
      <property name="screenMappings">
         <props>
            <prop key="cell">editScaffoldingCellRedirect</prop>
            <prop key="page">wizardPageDefinitionRedirect</prop>
            <prop key="styleRedirector">styleRedirector</prop>
         </props>
      </property>
      <property name="customTypedEditors">
         <list>
            <ref bean="idCustomEditor"/>
         </list>
      </property>
      <property name="commandName"><value>cellBean</value></property>
      <property name="commandClass"><value>org.theospi.portfolio.matrix.control.CellFormBean</value></property>
   </bean>   
   
   <bean id="scaffoldingStyleRedirectorController" class="org.sakaiproject.metaobj.utils.mvc.impl.servlet.ViewControllerImpl">
      <property name="controller">
         <bean class="org.theospi.portfolio.matrix.control.ScaffoldingStyleRedirectorController">
            <property name="matrixManager"><ref bean="matrixManager"/></property>
            <property name="idManager"><ref bean="idManager"/></property>
         </bean>
      </property>
      <property name="screenMappings">
         <props>
            <prop key="scaffolding">addScaffoldingRedirect</prop>
            <prop key="styleRedirector">styleRedirector</prop>
         </props>
      </property>
      <property name="customTypedEditors">
         <list>
            <ref bean="idCustomEditor"/>
         </list>
      </property>
      <property name="commandName"><value>cellBean</value></property>
      <property name="commandClass"><value>org.theospi.portfolio.matrix.control.CellFormBean</value></property>
   </bean>  
   
</beans>
